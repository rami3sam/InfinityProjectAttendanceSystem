<!DOCTYPE html>
<html>
<head>
  <title>Edit student information</title>
  <meta http-equiv="X-UA-Compatible" content='IE-Edge'/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
</head>
<body>
    <div class='container'>
        <div class='page-header'>
          <h1>Infinity Project <small>An Automatic Attendance System</small></h1>
        </div>
    </div>
    
  <div class='container col-lg-8 jumbotron '>
  <form id="addStudentForm"  method="POST" enctype="multipart/form-data" >
    <h4>Edit student information:</h4>

      <div class="form-group">
      <div class="input-group mb-3 input-group-sm">

      <label for="admissionYear">Select Admission Year:</label>
      <select class="form-control" name="admissionYear">
      {% for year in range(now.year , now.year-10,-1)%}
      {% set selected = 'selected' if student.admissionYear == year|string else '' %}
        <option value='{{year}}' {{selected}}>{{year}}</option>
      {% endfor %}    
      </select>

        <div class="input-group-prepend">
          <span class="input-group-text ">Student ID:</span>
       </div>
       <input type="text" pattern="\d*" maxlength="5" name='studentID' class="form-control" disabled value='{{student.ID}}'/>
     </div>

    </div>
     <div class="form-group">
     <div class="input-group mb-3 input-group-sm">
        <div class="input-group-prepend">
          <span class="input-group-text ">Student Name:</span>
       </div>
       <input type="text" name='studentName' class="form-control" value="{{student.name}}" required/>
     </div>
    </div>

    <div class="form-group">
      <label for="collegeYear">Select College Year:</label>
      <select class="form-control" name="collegeYear">
        {% for year in years %}
        {% set selected = 'selected' if student.collegeYear == year else ''%}
        <option value='{{year}}' {{selected}}>{{year}}</option>
        {% endfor %}
      </select>
    </div>

    <div class="form-group">
      <label for="studentMajor">Select Student Major:</label>
      <select class="form-control" name="studentMajor">
        {% for major in majors%}
        {% set selected = 'selected' if student.major == major else ''%}
        <option value='{{major}}' {{selected}}>{{major}}</option>
        {% endfor %}
      </select>
    </div>



     <div class="form-group">
       
        <div class="custom-file">
          <input name='images[]' type="file" class="custom-file-input"  multiple>
          <label class="custom-file-label" for="images">Select Student Images To Add?</label>
        </div>
    </div>


     <button type='submit' class="btn btn-primary col-lg-4 justify-self-center">Edit</button>

     {% with messages = get_flashed_messages(with_categories=true) %}
     {% if messages %}
       <ul class=flashes>
       {% for category, message in messages %}
         <li class="{{ category }}">{{ message }}</li>
       {% endfor %}
       </ul>
     {% endif %}
   {% endwith %}

    </form>
</div>



  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename = 'lib/css/bootstrap.css')}}"></link>
  <script type="text/javascript" src="{{ url_for('static', filename = 'lib/js/jquery-3.4.1.js')}}"></script>
  <script type="text/javascript" src="{{ url_for('static', filename = 'lib/js/bootstrap.js')}}"></script>
  <script type="text/javascript" src="{{ url_for('static', filename = 'js/addStudent.js')}}"></script>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename = 'css/main.css')}}"/>
</body>
</html>
